{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/lib/supabaseClient.jsx"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\nconst supabaseUrl = 'https://utyaegtlratnhymumqjm.supabase.co'\r\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV0eWFlZ3RscmF0bmh5bXVtcWptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMzNTU5MDUsImV4cCI6MjA1ODkzMTkwNX0.B2-GTy9rJPgGTmDeB70CwfzbbTTdocp-1QzRaMNDntQ'\r\nexport const supabase = createClient(supabaseUrl, supabaseKey);\r\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,cAAc;AACpB,MAAM,cAAc;AACb,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/lib/utils.js"],"sourcesContent":["export const slugify = (text) => {\r\n    return text\r\n        .normalize(\"NFD\")\r\n        .replace(/[\\u0300-\\u036f]/g, \"\")\r\n        .toLowerCase()\r\n        .trim()\r\n        .replace(/\\s+/g, \"-\")\r\n        .replace(/[^\\w-]+/g, \"\");\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,UAAU,CAAC;IACpB,OAAO,KACF,SAAS,CAAC,OACV,OAAO,CAAC,oBAAoB,IAC5B,WAAW,GACX,IAAI,GACJ,OAAO,CAAC,QAAQ,KAChB,OAAO,CAAC,YAAY;AAC7B"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/contexts/AppContext.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect } from 'react';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport { slugify } from '@/lib/utils';\r\n\r\nconst AppContext = createContext();\r\n\r\nexport function AppProvider({ children }) {\r\n    // Initialize with 'misc' to avoid hydration mismatch, or handle it in useEffect\r\n    const [categoria, setCategoria] = useState('misc');\r\n    const [upWindow, setUpWindow] = useState(false);\r\n    const [nova, setNova] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // Client-side only initialization\r\n        const storedCategory = localStorage.getItem('categoria');\r\n        if (storedCategory) {\r\n            setCategoria(storedCategory);\r\n        }\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            const { data, error } = await supabase\r\n                .from('imagens')\r\n                .select('categoria');\r\n\r\n            if (error) {\r\n                console.error('Error fetching categories:', error);\r\n                return;\r\n            }\r\n            const uniqueCategories = [...new Set(data.map(item => item.categoria))];\r\n            setCategories(uniqueCategories);\r\n        };\r\n\r\n        fetchCategories();\r\n    }, []);\r\n\r\n    return (\r\n        <AppContext.Provider value={{\r\n            categoria,\r\n            setCategoria,\r\n            upWindow,\r\n            setUpWindow,\r\n            nova,\r\n            setNova,\r\n            categories,\r\n            slugify\r\n        }}>\r\n            {children}\r\n        </AppContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useAppContext() {\r\n    return useContext(AppContext);\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,2BAAa,IAAA,8KAAa;AAEzB,SAAS,YAAY,EAAE,QAAQ,EAAE;;IACpC,gFAAgF;IAChF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAE/C,IAAA,0KAAS;iCAAC;YACN,kCAAkC;YAClC,MAAM,iBAAiB,aAAa,OAAO,CAAC;YAC5C,IAAI,gBAAgB;gBAChB,aAAa;YACjB;QACJ;gCAAG,EAAE;IAGL,IAAA,0KAAS;iCAAC;YACN,MAAM;yDAAkB;oBACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CACjC,IAAI,CAAC,WACL,MAAM,CAAC;oBAEZ,IAAI,OAAO;wBACP,QAAQ,KAAK,CAAC,8BAA8B;wBAC5C;oBACJ;oBACA,MAAM,mBAAmB;2BAAI,IAAI,IAAI,KAAK,GAAG;qEAAC,CAAA,OAAQ,KAAK,SAAS;;qBAAG;oBACvE,cAAc;gBAClB;;YAEA;QACJ;gCAAG,EAAE;IAEL,qBACI,6LAAC,WAAW,QAAQ;QAAC,OAAO;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA,SAAA,0HAAO;QACX;kBACK;;;;;;AAGb;GA/CgB;KAAA;AAiDT,SAAS;;IACZ,OAAO,IAAA,2KAAU,EAAC;AACtB;IAFgB"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/lib/Auth.jsx"],"sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\r\nimport { supabase } from './supabaseClient';\r\n\r\nexport const AuthContext = createContext({});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, setUser] = useState(null);\r\n    const [logado, setLogado] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check active session\r\n        supabase.auth.getSession().then(({ data: { session } }) => {\r\n            setUser(session?.user ?? null);\r\n            setLogado(!!session);\r\n        });\r\n\r\n        // Listen for auth changes\r\n        const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n            setUser(session?.user ?? null);\r\n            setLogado(!!session);\r\n        });\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, []);\r\n\r\n    const login = async (email, password) => {\r\n        const { data, error } = await supabase.auth.signInWithPassword({\r\n            email,\r\n            password\r\n        });\r\n\r\n        if (error) {\r\n            console.error(\"Erro ao fazer login:\", error.message);\r\n            return error.message; // Return error message to display\r\n        }\r\n\r\n        // Login successful, state updates via onAuthStateChange\r\n        return null;\r\n    };\r\n\r\n    const sair = async () => {\r\n        await supabase.auth.signOut();\r\n        // State updates via onAuthStateChange\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, logado, login, sair }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;;AAEO,MAAM,4BAAc,IAAA,8KAAa,EAAC,CAAC;AAEnC,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,IAAA,0KAAS;kCAAC;YACN,uBAAuB;YACvB,qIAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI;0CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;oBAClD,QAAQ,SAAS,QAAQ;oBACzB,UAAU,CAAC,CAAC;gBAChB;;YAEA,0BAA0B;YAC1B,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,qIAAQ,CAAC,IAAI,CAAC,iBAAiB;0CAAC,CAAC,QAAQ;oBACxE,QAAQ,SAAS,QAAQ;oBACzB,UAAU,CAAC,CAAC;gBAChB;;YAEA;0CAAO,IAAM,aAAa,WAAW;;QACzC;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAO;QACxB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAC3D;YACA;QACJ;QAEA,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;YACnD,OAAO,MAAM,OAAO,EAAE,kCAAkC;QAC5D;QAEA,wDAAwD;QACxD,OAAO;IACX;IAEA,MAAM,OAAO;QACT,MAAM,qIAAQ,CAAC,IAAI,CAAC,OAAO;IAC3B,sCAAsC;IAC1C;IAEA,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAQ;YAAO;QAAK;kBACpD;;;;;;AAGb;GA7Ca;KAAA"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/hooks/useAuth.jsx"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { AuthContext } from \"@/lib/Auth\";\r\n\r\nexport default function useAuth() {\r\n    return useContext(AuthContext)\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,SAAS;;IACpB,OAAO,IAAA,2KAAU,EAAC,8HAAW;AACjC;GAFwB"}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/components/login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport useAuth from '@/hooks/useAuth.jsx'\r\n\r\nexport default function Logar() {\r\n    const { login } = useAuth()\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [senha, setSenha] = useState('')\r\n    const [erro, setErro] = useState('')\r\n\r\n    const entrar = async () => {\r\n        if (!email || !senha) {\r\n            setErro('Insira as credenciais')\r\n            return\r\n        }\r\n        const res = await login(email, senha)\r\n        if (res) {\r\n            setErro(res)\r\n            return\r\n        }\r\n        // Se sucesso, o modal fecha ou o estado muda via contexto, \r\n        // mas podemos limpar o erro\r\n        setErro('')\r\n    }\r\n\r\n    return (\r\n        <div className=\"absolute mx-auto lpt:top-0 top-12 right-0 px-5 login z-0\">\r\n            <div className='relative flex gap-1 backdrop-blur-md py-2 px-3 rounded-xl'>\r\n                <input type=\"email\" placeholder=\"email\" className=\"px-2 py-1 rounded-md w-[180px] bg-gray-100 text-gray-800\" onChange={(e) => [setEmail(e.target.value), setErro('')]} />\r\n                <input type=\"password\" placeholder=\"senha\" className=\"px-2 py-1 rounded-md w-[120px] bg-gray-100 text-gray-800\" onChange={(e) => [setSenha(e.target.value), setErro('')]} />\r\n\r\n                <input type=\"submit\" value=\"ir\" onClick={entrar}\r\n                    className=\"bg-gray-600 text-white py-1 rounded-md border-2 border-gray-600 border-solid duration-200 w-[40px] block\r\n                    hover:boder-gray-600 hover:bg-transparent hover:text-gray-600 cursor-pointer\"/>\r\n            </div>\r\n            <small className=\"text-red-500 w-auto block mt-1 bg-white/80 px-2 rounded\">{erro}</small>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAEe,SAAS;;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+HAAO;IAEzB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IAEjC,MAAM,SAAS;QACX,IAAI,CAAC,SAAS,CAAC,OAAO;YAClB,QAAQ;YACR;QACJ;QACA,MAAM,MAAM,MAAM,MAAM,OAAO;QAC/B,IAAI,KAAK;YACL,QAAQ;YACR;QACJ;QACA,4DAA4D;QAC5D,4BAA4B;QAC5B,QAAQ;IACZ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAM,MAAK;wBAAQ,aAAY;wBAAQ,WAAU;wBAA2D,UAAU,CAAC,IAAM;gCAAC,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAG,QAAQ;6BAAI;;;;;;kCACrK,6LAAC;wBAAM,MAAK;wBAAW,aAAY;wBAAQ,WAAU;wBAA2D,UAAU,CAAC,IAAM;gCAAC,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAG,QAAQ;6BAAI;;;;;;kCAExK,6LAAC;wBAAM,MAAK;wBAAS,OAAM;wBAAK,SAAS;wBACrC,WAAU;;;;;;;;;;;;0BAGlB,6LAAC;gBAAM,WAAU;0BAA2D;;;;;;;;;;;;AAGxF;GAnCwB;;QACF,+HAAO;;;KADL"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/lib/ImagesDB.jsx"],"sourcesContent":["import { supabase } from './supabaseClient';\r\nimport { slugify } from '@/lib/utils';\r\n\r\nexport async function uploadFn(files, category) {\r\n    const uploadedFiles = [];\r\n\r\n    for (const file of files) {\r\n        const filePath = `${category}/${file.name}`;\r\n        const { data, error } = await supabase.storage\r\n            .from(\"ilustras\")\r\n            .upload(filePath, file);\r\n        if (error) {\r\n            console.error(\"Erro ao fazer upload:\", error);\r\n            continue;\r\n        }\r\n        const url = `https://utyaegtlratnhymumqjm.supabase.co/storage/v1/object/public/ilustras/${filePath}`;\r\n        const { error: dbError } = await supabase.from(\"imagens\").insert([\r\n            { nome: file.name, url, categoria: category }\r\n        ]);\r\n        if (dbError) {\r\n            console.error(\"Erro ao salvar no banco:\", dbError);\r\n            continue;\r\n        }\r\n        uploadedFiles.push({ url, name: file.name });\r\n    }\r\n    return uploadedFiles;\r\n}\r\n\r\n\r\nexport async function getImagesByCategory(slug) {\r\n    // 1. Fetch all distinct categories to find the real name\r\n    const { data: categoriesData, error: catError } = await supabase\r\n        .from(\"imagens\")\r\n        .select(\"categoria\");\r\n\r\n    if (catError) {\r\n        console.error(\"Erro ao buscar categorias:\", catError);\r\n        return [];\r\n    }\r\n\r\n    const uniqueCategories = [...new Set(categoriesData.map(item => item.categoria))];\r\n\r\n    // 2. Find the category that matches the slug\r\n    // Try exact match first (if slug is already the category name)\r\n    let realCategory = uniqueCategories.find(c => c === slug);\r\n\r\n    if (!realCategory) {\r\n        // Try matching slugified version\r\n        realCategory = uniqueCategories.find(c => slugify(c) === slug);\r\n    }\r\n\r\n    // Fallback: try replacing hyphens with spaces if still not found\r\n    if (!realCategory) {\r\n        const potentialName = slug.replace(/-/g, ' ');\r\n        // Case-insensitive check against potential name\r\n        realCategory = uniqueCategories.find(c => c.toLowerCase() === potentialName.toLowerCase());\r\n\r\n        // If still not found, use potentialName as last resort for the query\r\n        if (!realCategory) realCategory = potentialName;\r\n    }\r\n\r\n    console.log(`Slug: ${slug} -> Real Category: ${realCategory}`);\r\n\r\n    const { data, error } = await supabase\r\n        .from(\"imagens\")\r\n        .select(\"*\")\r\n        .eq(\"categoria\", realCategory); // Use eq with the real name\r\n\r\n    if (error) {\r\n        console.error(\"Erro ao buscar imagens:\", error);\r\n        return [];\r\n    }\r\n\r\n    return data;\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,SAAS,KAAK,EAAE,QAAQ;IAC1C,MAAM,gBAAgB,EAAE;IAExB,KAAK,MAAM,QAAQ,MAAO;QACtB,MAAM,WAAW,GAAG,SAAS,CAAC,EAAE,KAAK,IAAI,EAAE;QAC3C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,OAAO,CACzC,IAAI,CAAC,YACL,MAAM,CAAC,UAAU;QACtB,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,yBAAyB;YACvC;QACJ;QACA,MAAM,MAAM,CAAC,2EAA2E,EAAE,UAAU;QACpG,MAAM,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC;YAC7D;gBAAE,MAAM,KAAK,IAAI;gBAAE;gBAAK,WAAW;YAAS;SAC/C;QACD,IAAI,SAAS;YACT,QAAQ,KAAK,CAAC,4BAA4B;YAC1C;QACJ;QACA,cAAc,IAAI,CAAC;YAAE;YAAK,MAAM,KAAK,IAAI;QAAC;IAC9C;IACA,OAAO;AACX;AAGO,eAAe,oBAAoB,IAAI;IAC1C,yDAAyD;IACzD,MAAM,EAAE,MAAM,cAAc,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,qIAAQ,CAC3D,IAAI,CAAC,WACL,MAAM,CAAC;IAEZ,IAAI,UAAU;QACV,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,EAAE;IACb;IAEA,MAAM,mBAAmB;WAAI,IAAI,IAAI,eAAe,GAAG,CAAC,CAAA,OAAQ,KAAK,SAAS;KAAG;IAEjF,6CAA6C;IAC7C,+DAA+D;IAC/D,IAAI,eAAe,iBAAiB,IAAI,CAAC,CAAA,IAAK,MAAM;IAEpD,IAAI,CAAC,cAAc;QACf,iCAAiC;QACjC,eAAe,iBAAiB,IAAI,CAAC,CAAA,IAAK,IAAA,0HAAO,EAAC,OAAO;IAC7D;IAEA,iEAAiE;IACjE,IAAI,CAAC,cAAc;QACf,MAAM,gBAAgB,KAAK,OAAO,CAAC,MAAM;QACzC,gDAAgD;QAChD,eAAe,iBAAiB,IAAI,CAAC,CAAA,IAAK,EAAE,WAAW,OAAO,cAAc,WAAW;QAEvF,qEAAqE;QACrE,IAAI,CAAC,cAAc,eAAe;IACtC;IAEA,QAAQ,GAAG,CAAC,CAAC,MAAM,EAAE,KAAK,mBAAmB,EAAE,cAAc;IAE7D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CACjC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,eAAe,4BAA4B;IAEhE,IAAI,OAAO;QACP,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACb;IAEA,OAAO;AACX"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/components/SpinIcon.jsx"],"sourcesContent":["export default function SpinIcon(){\r\n    return(\r\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n            <g fill=\"#000000\" fillRule=\"evenodd\" clipRule=\"evenodd\">\r\n                <path d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8z\" opacity=\".2\"/>\r\n                <path d=\"M7.25.75A.75.75 0 018 0a8 8 0 018 8 .75.75 0 01-1.5 0A6.5 6.5 0 008 1.5a.75.75 0 01-.75-.75z\"/>\r\n            </g>\r\n        </svg>\r\n    )\r\n}"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACpB,qBACI,6LAAC;QAAI,OAAM;QAAO,QAAO;QAAO,SAAQ;QAAY,MAAK;kBACrD,cAAA,6LAAC;YAAE,MAAK;YAAU,UAAS;YAAU,UAAS;;8BAC1C,6LAAC;oBAAK,GAAE;oBAA0E,SAAQ;;;;;;8BAC1F,6LAAC;oBAAK,GAAE;;;;;;;;;;;;;;;;;AAIxB;KATwB"}},
    {"offset": {"line": 463, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/components/UploadImage.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { uploadFn } from \"@/lib/ImagesDB\";\r\nimport SpinIcon from \"@/components/SpinIcon\";\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport Compressor from \"compressorjs\";\r\n\r\nfunction UploadForm({ setUpWindow, nova }) {\r\n  const [file, setFile] = useState(null);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [uploading, setUploading] = useState(0);\r\n  const [hasImage, sethasImage] = useState(false)\r\n  const [preview, setPreview] = useState('')\r\n\r\n  const handleFileChange = (event) => {\r\n    const files = event.target.files;\r\n    setFile(files);\r\n    if (event.target.files && event.target.files[0]) {\r\n      const arquivo = new FileReader()\r\n      arquivo.onload = fileLoaded\r\n      arquivo.readAsDataURL(event.target.files[0])\r\n    }\r\n    sethasImage(true)\r\n  };\r\n\r\n  const fileLoaded = event => setPreview(event.target.result)\r\n\r\n  const handleCategoryChange = (event) => {\r\n    setCategory(event.target.value);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    const categoriaAtual = nova ? localStorage.getItem('categoria') : category;\r\n\r\n    if (!file?.[0] || !categoriaAtual) {\r\n      alert(\"Por favor, selecione um arquivo e uma categoria.\");\r\n      return;\r\n    }\r\n\r\n    setUploading(1);\r\n\r\n    if (nova) {\r\n      const urlEditar = localStorage.getItem('urlEditar');\r\n      const filePathOld = urlEditar.split('/ilustras/')[1];\r\n\r\n      const ext = \"avif\";\r\n      const timestamp = Date.now();\r\n      const novoFilePath = `${categoriaAtual}/${timestamp}.${ext}`;\r\n\r\n      new Compressor(file[0], {\r\n        quality: 0.7,\r\n        mimeType: \"image/webp\",\r\n        convertSize: 1,\r\n        success: async (compressed) => {\r\n          const { data: uploadData, error: uploadError } = await supabase.storage\r\n            .from(\"ilustras\")\r\n            .upload(novoFilePath, compressed, {\r\n              cacheControl: \"3600\",\r\n              upsert: true,\r\n            });\r\n\r\n          if (uploadError) {\r\n            console.error(\"Erro ao fazer upload da nova imagem:\", uploadError);\r\n            setUploading(0);\r\n            return;\r\n          }\r\n\r\n          localStorage.removeItem(`imagens-${categoriaAtual}`);\r\n          const novaUrl = `https://utyaegtlratnhymumqjm.supabase.co/storage/v1/object/public/ilustras/${novoFilePath}`;\r\n\r\n          const { error: dbError } = await supabase\r\n            .from('imagens')\r\n            .update({ url: novaUrl })\r\n            .eq('url', urlEditar);\r\n\r\n          if (dbError) {\r\n            console.error(\"Erro ao atualizar URL no banco:\", dbError);\r\n            setUploading(0);\r\n            return;\r\n          }\r\n\r\n          console.log(\"URL atualizada com sucesso!\");\r\n          setTimeout(() => {\r\n            setUploading(2);\r\n          }, 1500);\r\n        },\r\n        error(err) {\r\n          console.error(\"Erro ao comprimir:\", err.message);\r\n          setUploading(0);\r\n        },\r\n      });\r\n\r\n    } else {\r\n      if (file.length > 0) {\r\n        const compressedFiles = await Promise.all(\r\n          [...file].map(f =>\r\n            new Promise((resolve, reject) => {\r\n              new Compressor(f, {\r\n                quality: 0.7,\r\n                mimeType: \"image/webp\",\r\n                convertSize: 1,\r\n                success: resolve,\r\n                error: reject,\r\n              });\r\n            })\r\n          )\r\n        );\r\n\r\n        const result = await uploadFn(compressedFiles, categoriaAtual);\r\n        console.log(\"Arquivos enviados com sucesso:\", result);\r\n        setTimeout(() => {\r\n          setUploading(2);\r\n        }, 1500);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col add items-center justify-center right-5 fixed top-0 left-0 bg-[#000000cc] w-full h-dvh backdrop-blur-md z-[999]\">\r\n      <button className='text-white z-30' onClick={() => { uploading ? window.location.reload() : setUpWindow(false) }} >X</button>\r\n      <div className='flex gap-5'>\r\n        {!hasImage &&\r\n          <input type=\"file\" accept=\"/image/*\" multiple onChange={handleFileChange} className=\"p-28 bg-[#ffffff22] border-4 border-dashed border-gray-500 rounded-lg mt-2 [&::file-selector-button]:opacity-0  max-w-[520px] w-full text-transparent \r\n                    before:content-['DRAG_&_DROP'] before:text-white before:flex before:justify-center\" />\r\n        }\r\n        {hasImage && preview &&\r\n          <div className='flex flex-col'>\r\n            <img src={preview} className='block w-96 h-96 object-contain' />\r\n            <button className='text-center text-gray-200 block py-3'\r\n              onClick={() => sethasImage(false)}>\r\n              escolher outra\r\n            </button>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n      <div className=\"p-4 rounded-md shadow-md w-80\">\r\n        <input type=\"text\" style={{ display: nova ? 'none' : 'flex' }}\r\n          placeholder={'D I G I T E  A  C A T E G O R I A'} required onChange={handleCategoryChange}\r\n          className='bg-white/10 border py-2 px-5 max-w-[520px] w-full outline-none mx-3 text-gray-200  text-center'\r\n        />\r\n\r\n        <br /><br />\r\n        <button className='text-gray-200 duration-200' onClick={handleUpload} disabled={uploading}>\r\n\r\n          {uploading == 0 && \"Enviar\"}\r\n          {uploading == 1 && <span className={`animate-spin flex items-center duration-200 transition-all invert`}><SpinIcon /></span>}\r\n          {uploading == 2 && \"Upload Completo!\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UploadForm;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,SAAS,WAAW,EAAE,WAAW,EAAE,IAAI,EAAE;;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,mBAAmB,CAAC;QACxB,MAAM,QAAQ,MAAM,MAAM,CAAC,KAAK;QAChC,QAAQ;QACR,IAAI,MAAM,MAAM,CAAC,KAAK,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YAC/C,MAAM,UAAU,IAAI;YACpB,QAAQ,MAAM,GAAG;YACjB,QAAQ,aAAa,CAAC,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE;QAC7C;QACA,YAAY;IACd;IAEA,MAAM,aAAa,CAAA,QAAS,WAAW,MAAM,MAAM,CAAC,MAAM;IAE1D,MAAM,uBAAuB,CAAC;QAC5B,YAAY,MAAM,MAAM,CAAC,KAAK;IAChC;IAEA,MAAM,eAAe;QACnB,MAAM,iBAAiB,OAAO,aAAa,OAAO,CAAC,eAAe;QAElE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,gBAAgB;YACjC,MAAM;YACN;QACF;QAEA,aAAa;QAEb,IAAI,MAAM;YACR,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,MAAM,cAAc,UAAU,KAAK,CAAC,aAAa,CAAC,EAAE;YAEpD,MAAM,MAAM;YACZ,MAAM,YAAY,KAAK,GAAG;YAC1B,MAAM,eAAe,GAAG,eAAe,CAAC,EAAE,UAAU,CAAC,EAAE,KAAK;YAE5D,IAAI,gKAAU,CAAC,IAAI,CAAC,EAAE,EAAE;gBACtB,SAAS;gBACT,UAAU;gBACV,aAAa;gBACb,SAAS,OAAO;oBACd,MAAM,EAAE,MAAM,UAAU,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,qIAAQ,CAAC,OAAO,CACpE,IAAI,CAAC,YACL,MAAM,CAAC,cAAc,YAAY;wBAChC,cAAc;wBACd,QAAQ;oBACV;oBAEF,IAAI,aAAa;wBACf,QAAQ,KAAK,CAAC,wCAAwC;wBACtD,aAAa;wBACb;oBACF;oBAEA,aAAa,UAAU,CAAC,CAAC,QAAQ,EAAE,gBAAgB;oBACnD,MAAM,UAAU,CAAC,2EAA2E,EAAE,cAAc;oBAE5G,MAAM,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,qIAAQ,CACtC,IAAI,CAAC,WACL,MAAM,CAAC;wBAAE,KAAK;oBAAQ,GACtB,EAAE,CAAC,OAAO;oBAEb,IAAI,SAAS;wBACX,QAAQ,KAAK,CAAC,mCAAmC;wBACjD,aAAa;wBACb;oBACF;oBAEA,QAAQ,GAAG,CAAC;oBACZ,WAAW;wBACT,aAAa;oBACf,GAAG;gBACL;gBACA,OAAM,GAAG;oBACP,QAAQ,KAAK,CAAC,sBAAsB,IAAI,OAAO;oBAC/C,aAAa;gBACf;YACF;QAEF,OAAO;YACL,IAAI,KAAK,MAAM,GAAG,GAAG;gBACnB,MAAM,kBAAkB,MAAM,QAAQ,GAAG,CACvC;uBAAI;iBAAK,CAAC,GAAG,CAAC,CAAA,IACZ,IAAI,QAAQ,CAAC,SAAS;wBACpB,IAAI,gKAAU,CAAC,GAAG;4BAChB,SAAS;4BACT,UAAU;4BACV,aAAa;4BACb,SAAS;4BACT,OAAO;wBACT;oBACF;gBAIJ,MAAM,SAAS,MAAM,IAAA,+HAAQ,EAAC,iBAAiB;gBAC/C,QAAQ,GAAG,CAAC,kCAAkC;gBAC9C,WAAW;oBACT,aAAa;gBACf,GAAG;YACL;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAO,WAAU;gBAAkB,SAAS;oBAAQ,YAAY,OAAO,QAAQ,CAAC,MAAM,KAAK,YAAY;gBAAO;0BAAI;;;;;;0BACnH,6LAAC;gBAAI,WAAU;;oBACZ,CAAC,0BACA,6LAAC;wBAAM,MAAK;wBAAO,QAAO;wBAAW,QAAQ;wBAAC,UAAU;wBAAkB,WAAU;;;;;;oBAGrF,YAAY,yBACX,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,KAAK;gCAAS,WAAU;;;;;;0CAC7B,6LAAC;gCAAO,WAAU;gCAChB,SAAS,IAAM,YAAY;0CAAQ;;;;;;;;;;;;;;;;;;0BAO3C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,MAAK;wBAAO,OAAO;4BAAE,SAAS,OAAO,SAAS;wBAAO;wBAC1D,aAAa;wBAAqC,QAAQ;wBAAC,UAAU;wBACrE,WAAU;;;;;;kCAGZ,6LAAC;;;;;kCAAK,6LAAC;;;;;kCACP,6LAAC;wBAAO,WAAU;wBAA6B,SAAS;wBAAc,UAAU;;4BAE7E,aAAa,KAAK;4BAClB,aAAa,mBAAK,6LAAC;gCAAK,WAAW,CAAC,iEAAiE,CAAC;0CAAE,cAAA,6LAAC,qIAAQ;;;;;;;;;;4BACjH,aAAa,KAAK;;;;;;;;;;;;;;;;;;;AAK7B;GAjJS;KAAA;uCAmJM"}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/components/Nav.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useAppContext } from '@/contexts/AppContext';\r\nimport '@/styles/Nav.css';\r\nimport useAuth from \"@/hooks/useAuth.jsx\";\r\nimport Logar from \"@/components/login.jsx\";\r\nimport UploadForm from \"@/components/UploadImage.jsx\";\r\nimport Link from 'next/link';\r\nimport { useSelectedLayoutSegment } from 'next/navigation';\r\n\r\nexport default function Nav() {\r\n  const { upWindow, setUpWindow, nova, setNova, categories, slugify } = useAppContext();\r\n  const { logado, sair } = useAuth();\r\n  const [logar, setLogar] = useState(false);\r\n  const selectedSegment = useSelectedLayoutSegment();\r\n  const activeCategory = selectedSegment || 'misc';\r\n\r\n  return (\r\n    <>\r\n      {logado && upWindow && <UploadForm setUpWindow={setUpWindow} nova={nova} />}\r\n      {logado && (\r\n        <>\r\n          <span className='log fixed right-12 top-[14px] text-gray-600 hover:text-gray-950 cursor-pointer z-50 hidden sm:block' onClick={sair}>sair</span>\r\n          <button className='log fixed right-6 top-[8px] text-gray-600 hover:text-gray-950 cursor-pointer z-30 text-2xl hidden sm:block' onClick={() => { setUpWindow(true); setNova(false) }}> + </button>\r\n        </>\r\n      )}\r\n      {!logado && (\r\n        <div className='flex flex-row add items-center fixed top-0 right-8 z-50'>\r\n          <button className='log text-2xl cursor-pointer text-gray-700 z-50 relative top-2' onClick={() => setLogar(true)}> + </button>\r\n          {logar && (\r\n            <>\r\n              <button className='log text-2xl cursor-pointer text-gray-700 z-50 absolute lpt:top-[.45rem] md:-left-[21rem] top-[3.4rem] -left-1 backdrop-blur px-2' onClick={() => setLogar(false)}>x</button>\r\n              <Logar />\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <nav style={{ viewTransitionName: 'main-nav' }}>\r\n        <ul className=\"items-start md:items-center justify-center z-10 relative xl:w-fit w-[90svw] mx-auto [&_li.active]:text-white mt-3 ml-3 bg-[#0003] rounded-2xl\">\r\n          {categories.map((table, index) => {\r\n            const categorySlug = slugify(table);\r\n            const isActive = categorySlug === activeCategory;\r\n            return (\r\n              <Link\r\n                key={index}\r\n                href={`/${categorySlug}`}\r\n                passHref\r\n                legacyBehavior={false}\r\n              >\r\n                <li\r\n                  className={`${isActive ? 'active' : ''} md:text-lg text-[.7rem] font-[400] text-white/90 py-1 sm:py-3 px-2 sm:px-5 hover:text-white hover:[text-shadow:0_0_10px_white] uppercase cursor-pointer`}\r\n                  style={{ viewTransitionName: isActive ? 'active-category' : '' }}\r\n                >\r\n                  {table}\r\n                </li>\r\n              </Link>\r\n            );\r\n          })}\r\n        </ul>\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAWe,SAAS;;IACtB,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,GAAG,IAAA,2IAAa;IACnF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,+HAAO;IAChC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,kBAAkB,IAAA,iKAAwB;IAChD,MAAM,iBAAiB,mBAAmB;IAE1C,qBACE;;YACG,UAAU,0BAAY,6LAAC,wIAAU;gBAAC,aAAa;gBAAa,MAAM;;;;;;YAClE,wBACC;;kCACE,6LAAC;wBAAK,WAAU;wBAAsG,SAAS;kCAAM;;;;;;kCACrI,6LAAC;wBAAO,WAAU;wBAA6G,SAAS;4BAAQ,YAAY;4BAAO,QAAQ;wBAAO;kCAAG;;;;;;;;YAGxL,CAAC,wBACA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,WAAU;wBAAgE,SAAS,IAAM,SAAS;kCAAO;;;;;;oBAChH,uBACC;;0CACE,6LAAC;gCAAO,WAAU;gCAAoI,SAAS,IAAM,SAAS;0CAAQ;;;;;;0CACtL,6LAAC,kIAAK;;;;;;;;;;;;;0BAMd,6LAAC;gBAAI,OAAO;oBAAE,oBAAoB;gBAAW;0BAC3C,cAAA,6LAAC;oBAAG,WAAU;8BACX,WAAW,GAAG,CAAC,CAAC,OAAO;wBACtB,MAAM,eAAe,QAAQ;wBAC7B,MAAM,WAAW,iBAAiB;wBAClC,qBACE,6LAAC,0KAAI;4BAEH,MAAM,CAAC,CAAC,EAAE,cAAc;4BACxB,QAAQ;4BACR,gBAAgB;sCAEhB,cAAA,6LAAC;gCACC,WAAW,GAAG,WAAW,WAAW,GAAG,wJAAwJ,CAAC;gCAChM,OAAO;oCAAE,oBAAoB,WAAW,oBAAoB;gCAAG;0CAE9D;;;;;;2BATE;;;;;oBAaX;;;;;;;;;;;;;AAKV;GArDwB;;QACgD,2IAAa;QAC1D,+HAAO;QAER,iKAAwB;;;KAJ1B"}},
    {"offset": {"line": 867, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/components/SquircleMask.jsx"],"sourcesContent":["export default function SquircleMask({ smoothness = 0.02 }) {\r\n    return (\r\n        <svg width=\"0\" height=\"0\" style={{ position: 'absolute', pointerEvents: 'none' }}>\r\n            <clipPath id=\"squircle-mask\" clipPathUnits=\"objectBoundingBox\">\r\n                <path d={`M 0.5 0 \r\n                              C ${smoothness} 0 0 ${smoothness} 0 0.5 \r\n                              C 0 ${1 - smoothness} ${smoothness} 1 0.5 1 \r\n                              C ${1 - smoothness} 1 1 ${1 - smoothness} 1 0.5 \r\n                              C 1 ${smoothness} ${1 - smoothness} 0 0.5 0 Z`}\r\n                />\r\n            </clipPath>\r\n        </svg>\r\n    );\r\n}"],"names":[],"mappings":";;;;;;AAAe,SAAS,aAAa,EAAE,aAAa,IAAI,EAAE;IACtD,qBACI,6LAAC;QAAI,OAAM;QAAI,QAAO;QAAI,OAAO;YAAE,UAAU;YAAY,eAAe;QAAO;kBAC3E,cAAA,6LAAC;YAAS,IAAG;YAAgB,eAAc;sBACvC,cAAA,6LAAC;gBAAK,GAAG,CAAC;gCACM,EAAE,WAAW,KAAK,EAAE,WAAW;kCAC7B,EAAE,IAAI,WAAW,CAAC,EAAE,WAAW;gCACjC,EAAE,IAAI,WAAW,KAAK,EAAE,IAAI,WAAW;kCACrC,EAAE,WAAW,CAAC,EAAE,IAAI,WAAW,UAAU,CAAC;;;;;;;;;;;;;;;;AAK5E;KAbwB"}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruno/OneDrive/Documentos/GitHub/react-gallery/components/ClientLayout.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { AppProvider } from '@/contexts/AppContext';\r\nimport { AuthProvider } from '@/lib/Auth';\r\nimport Nav from '@/components/Nav';\r\nimport SquircleMask from '@/components/SquircleMask';\r\n\r\nexport default function ClientLayout({ children }) {\r\n    return (\r\n        <AppProvider>\r\n            <AuthProvider>\r\n                <SquircleMask />\r\n                {/* Nav needs to be updated to use context internally */}\r\n                <Nav />\r\n                {children}\r\n            </AuthProvider>\r\n        </AppProvider>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,aAAa,EAAE,QAAQ,EAAE;IAC7C,qBACI,6LAAC,yIAAW;kBACR,cAAA,6LAAC,+HAAY;;8BACT,6LAAC,yIAAY;;;;;8BAEb,6LAAC,gIAAG;;;;;gBACH;;;;;;;;;;;;AAIjB;KAXwB"}}]
}